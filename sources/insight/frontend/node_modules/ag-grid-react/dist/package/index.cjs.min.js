"use strict";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,t)=>{for(var r in t)__defProp(e,r,{get:t[r],enumerable:!0})},__copyProps=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of __getOwnPropNames(t))!__hasOwnProp.call(e,n)&&n!==r&&__defProp(e,n,{get:()=>t[n],enumerable:!(s=__getOwnPropDesc(t,n))||s.enumerable});return e},__toESM=(e,t,r)=>(r=e!=null?__create(__getProtoOf(e)):{},__copyProps(t||!e||!e.__esModule?__defProp(r,"default",{value:e,enumerable:!0}):r,e)),__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),src_exports={};__export(src_exports,{AgGridProvider:()=>AgGridProvider,AgGridReact:()=>AgGridReact,CustomComponentContext:()=>CustomContext,getInstance:()=>getInstance,useGridCellEditor:()=>useGridCellEditor,useGridDate:()=>useGridDate,useGridFilter:()=>useGridFilter,useGridFilterDisplay:()=>useGridFilterDisplay,useGridFloatingFilter:()=>useGridFloatingFilter,useGridMenuItem:()=>useGridMenuItem,warnReactiveCustomComponents:()=>warnReactiveCustomComponents}),module.exports=__toCommonJS(src_exports);var import_react28=__toESM(require("react")),import_react27=__toESM(require("react")),import_ag_grid_community24=require("ag-grid-community"),import_react3=__toESM(require("react")),import_ag_grid_community=require("ag-grid-community"),import_react=__toESM(require("react")),BeansContext=import_react.default.createContext({}),RenderModeContext=import_react.default.createContext("default"),showJsComp=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const c=e.newAgStackInstance();let o,i,a=!1;return c.then(d=>{if(a){t.destroyBean(d);return}o=d,i=o.getGui(),r.appendChild(i),setRef(s,o)}),()=>{a=!0,o&&(i?.remove(),t.destroyBean(o),s&&setRef(s,void 0))}},setRef=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},import_react2=__toESM(require("react")),import_react_dom=__toESM(require("react-dom")),classesList=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),CssClasses=class pe{constructor(...t){this.classesMap={};for(const r of t)this.classesMap[r]=!0}setClass(t,r){if(!!this.classesMap[t]==r)return this;const n=new pe;return n.classesMap={...this.classesMap},n.classesMap[t]=r,n}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},isComponentStateless=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},reactVersion=import_react2.default.version?.split(".")[0],isReactVersion17Minus=reactVersion==="16"||reactVersion==="17";function isReact19(){return reactVersion==="19"}var disableFlushSync=!1;function runWithoutFlushSync(e){return disableFlushSync||setTimeout(()=>disableFlushSync=!1,0),disableFlushSync=!0,e()}var agFlushSync=(e,t)=>{!isReactVersion17Minus&&e&&!disableFlushSync?import_react_dom.default.flushSync(t):t()},agStartTransition=e=>{isReactVersion17Minus?e():import_react2.default.startTransition(e)};function agUseSyncExternalStore(e,t,r){return import_react2.default.useSyncExternalStore?import_react2.default.useSyncExternalStore(e,t):r}function getNextValueIfDifferent(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],n=[],c=new Map,o=new Map;for(let i=0;i<t.length;i++){const a=t[i];o.set(a.instanceId,a)}for(let i=0;i<e.length;i++){const a=e[i];c.set(a.instanceId,a),o.has(a.instanceId)&&s.push(a)}for(let i=0;i<t.length;i++){const a=t[i],d=a.instanceId;c.has(d)||n.push(a)}return s.length===e.length&&n.length===0?e:s.length===0&&n.length===t.length?t:s.length===0?n:n.length===0?s:[...s,...n]}var GroupCellRenderer=(0,import_react3.forwardRef)((e,t)=>{const{registry:r,context:s}=(0,import_react3.useContext)(BeansContext),n=(0,import_react3.useRef)(null),c=(0,import_react3.useRef)(null),o=(0,import_react3.useRef)(null),i=(0,import_react3.useRef)(null),a=(0,import_react3.useRef)(null),d=(0,import_react3.useRef)(),[l,R]=(0,import_react3.useState)(),[y,f]=(0,import_react3.useState)(),[P,g]=(0,import_react3.useState)(),[h,u]=(0,import_react3.useState)(()=>new CssClasses),[E,B]=(0,import_react3.useState)(()=>new CssClasses("ag-hidden")),[w,m]=(0,import_react3.useState)(()=>new CssClasses("ag-hidden")),[I,S]=(0,import_react3.useState)(()=>new CssClasses("ag-invisible"));(0,import_react3.useImperativeHandle)(t,()=>({refresh(){return!1}})),(0,import_react3.useLayoutEffect)(()=>showJsComp(l,s,c.current),[l]);const O=(0,import_react3.useCallback)(T=>{if(n.current=T,!T||s.isDestroyed()){d.current=s.destroyBean(d.current);return}const M={setInnerRenderer:(F,H)=>{R(F),g(H)},setChildCount:F=>f(F),toggleCss:(F,H)=>u(_=>_.setClass(F,H)),setContractedDisplayed:F=>m(H=>H.setClass("ag-hidden",!F)),setExpandedDisplayed:F=>B(H=>H.setClass("ag-hidden",!F)),setCheckboxVisible:F=>S(H=>H.setClass("ag-invisible",!F)),setCheckboxSpacing:F=>S(H=>H.setClass("ag-group-checkbox-spacing",F))},N=r.createDynamicBean("groupCellRendererCtrl",!0);N&&(d.current=s.createBean(N),d.current.init(M,T,o.current,i.current,a.current,GroupCellRenderer,e))},[]),x=(0,import_react3.useMemo)(()=>`ag-cell-wrapper ${h.toString()}`,[h]),k=(0,import_react3.useMemo)(()=>`ag-group-expanded ${E.toString()}`,[E]),C=(0,import_react3.useMemo)(()=>`ag-group-contracted ${w.toString()}`,[w]),v=(0,import_react3.useMemo)(()=>`ag-group-checkbox ${I.toString()}`,[I]),A=l?.componentFromFramework,V=A?l.componentClass:void 0,p=l==null&&P!=null,D=(0,import_ag_grid_community._toString)(P);return import_react3.default.createElement("span",{className:x,ref:O,...e.colDef?{}:{role:d.current?.getCellAriaRole()}},import_react3.default.createElement("span",{className:k,ref:i}),import_react3.default.createElement("span",{className:C,ref:a}),import_react3.default.createElement("span",{className:v,ref:o}),import_react3.default.createElement("span",{className:"ag-group-value",ref:c},p?D:A?import_react3.default.createElement(V,{...l.params}):null),import_react3.default.createElement("span",{className:"ag-group-child-count"},y))}),groupCellRenderer_default=GroupCellRenderer,import_ag_grid_community3=require("ag-grid-community"),import_react5=__toESM(require("react")),import_react4=require("react"),CustomContext=(0,import_react4.createContext)({setMethods:()=>{}}),CustomWrapperComp=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:s,setMethods:n}=e,[{key:c,...o},i]=(0,import_react5.useState)(t);return(0,import_react5.useEffect)(()=>{r(a=>i(a))},[]),import_react5.default.createElement(CustomContext.Provider,{value:{setMethods:n}},import_react5.default.createElement(s,{key:c,...o}))},customWrapperComp_default=(0,import_react5.memo)(CustomWrapperComp),import_react6=require("react"),import_react_dom2=require("react-dom"),import_ag_grid_community2=require("ag-grid-community"),counter=0;function generateNewKey(){return`agPortalKey_${++counter}`}var ReactComponent=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=generateNewKey(),this.portalKey=generateNewKey(),this.instanceCreated=this.isStatelessComponent()?import_ag_grid_community2.AgPromise.resolve(!1):new import_ag_grid_community2.AgPromise(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const s=r[e];if(s)return s.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new import_ag_grid_community2.AgPromise(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,import_react_dom2.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,import_react6.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function addOptionalMethods(e,t,r){for(const s of e){const n=t[s];n&&(r[s]=n)}}var CustomComponentWrapper=class extends ReactComponent{constructor(){super(...arguments),this.awaitUpdateCallback=new import_ag_grid_community3.AgPromise(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=customWrapperComp_default}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new import_ag_grid_community3.AgPromise(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,addOptionalMethods(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new import_ag_grid_community3.AgPromise(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},CellRendererComponentWrapper=class extends CustomComponentWrapper{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},CustomOverlayComponentWrapper=class extends CustomComponentWrapper{refresh(e){this.sourceParams=e,this.refreshProps()}},DateComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},DragAndDropImageComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:s}=this;return e.label=t,e.icon=r,e.shake=s,e}},import_ag_grid_community4=require("ag-grid-community"),FilterComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new import_ag_grid_community4.AgPromise(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new import_ag_grid_community4.AgPromise(r=>{this.resolveFilterPassCallback=r});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},import_ag_grid_community5=require("ag-grid-community"),FilterDisplayComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.awaitSetMethodsCallback=new import_ag_grid_community5.AgPromise(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}},import_ag_grid_community6=require("ag-grid-community");function updateFloatingFilterParent(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||import_ag_grid_community6.AgPromise.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var FloatingFilterComponentProxy=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){addOptionalMethods(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),updateFloatingFilterParent(this.floatingFilterParams,e)}},FloatingFilterComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),updateFloatingFilterParent(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},FloatingFilterDisplayComponentWrapper=class extends CustomComponentWrapper{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},InnerHeaderComponentWrapper=class extends CustomComponentWrapper{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},MenuItemComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},StatusPanelComponentWrapper=class extends CustomComponentWrapper{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ToolPanelComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}},import_ag_grid_community7=require("ag-grid-community");function getInstance(e,t){(e?.getInstance?.()??import_ag_grid_community7.AgPromise.resolve(void 0)).then(s=>t(s))}function warnReactiveCustomComponents(){(0,import_ag_grid_community7._warn)(231)}var MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,PortalManager=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){agFlushSync(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},import_react7=__toESM(require("react")),import_ag_grid_community8=require("ag-grid-community"),ModulesContext=import_react7.default.createContext([]),LicenseContext=import_react7.default.createContext(void 0);function AgGridProvider({modules:e,licenseKey:t,children:r}){const s=(0,import_react7.useContext)(ModulesContext),n=(0,import_react7.useContext)(LicenseContext),c=(0,import_react7.useRef)(e),o=(0,import_react7.useRef)(s),i=(0,import_react7.useRef)([...s,...e]),a=!(0,import_ag_grid_community8._areEqual)(o.current,s);a&&(o.current=s);const d=!(0,import_ag_grid_community8._areEqual)(c.current,e);d&&(c.current=e),(a||d)&&(i.current=[...o.current,...c.current]);const l=t??n;return import_react7.default.createElement(ModulesContext.Provider,{value:i.current},import_react7.default.createElement(LicenseContext.Provider,{value:l},r))}var import_react25=__toESM(require("react")),import_ag_grid_community22=require("ag-grid-community"),import_react23=__toESM(require("react")),import_ag_grid_community20=require("ag-grid-community"),import_react13=__toESM(require("react")),import_ag_grid_community14=require("ag-grid-community"),import_react12=__toESM(require("react")),import_ag_grid_community13=require("ag-grid-community"),import_react11=__toESM(require("react")),import_ag_grid_community12=require("ag-grid-community"),import_react8=__toESM(require("react")),import_ag_grid_community9=require("ag-grid-community"),HeaderCellComp=({ctrl:e})=>{const t=e.isAlive(),{context:r}=(0,import_react8.useContext)(BeansContext),[s,n]=(0,import_react8.useState)(),[c,o]=(0,import_react8.useState)(),i=(0,import_react8.useRef)(),a=(0,import_react8.useRef)(null),d=(0,import_react8.useRef)(null),l=(0,import_react8.useRef)(null),R=(0,import_react8.useRef)(),y=(0,import_react8.useRef)();t&&!y.current&&(y.current=new import_ag_grid_community9.CssClassManager(()=>a.current));const f=(0,import_react8.useCallback)(u=>{if(a.current=u,!u||!e.isAlive()||r.isDestroyed()){i.current=r.destroyBean(i.current);return}i.current=r.createBean(new import_ag_grid_community9._EmptyBean);const E=()=>{const w=e.getSelectAllGui();w&&(d.current?.insertAdjacentElement("afterend",w),i.current.addDestroyFunc(()=>w.remove()))},B={setWidth:w=>{a.current&&(a.current.style.width=w)},toggleCss:(w,m)=>y.current.toggleCss(w,m),setUserStyles:w=>o(w),setAriaSort:w=>{a.current&&(w?(0,import_ag_grid_community9._setAriaSort)(a.current,w):(0,import_ag_grid_community9._removeAriaSort)(a.current))},setUserCompDetails:w=>n(w),getUserCompInstance:()=>R.current||void 0,refreshSelectAllGui:E,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(B,u,d.current,l.current,i.current),E()},[]);(0,import_react8.useLayoutEffect)(()=>showJsComp(s,r,l.current,R),[s]),(0,import_react8.useEffect)(()=>{e.setDragSource(a.current)},[s]);const P=(0,import_react8.useMemo)(()=>!!(s?.componentFromFramework&&isComponentStateless(s.componentClass)),[s]),g=s?.componentFromFramework,h=s?.componentClass;return import_react8.default.createElement("div",{ref:f,style:c,className:"ag-header-cell",role:"columnheader"},import_react8.default.createElement("div",{ref:d,className:"ag-header-cell-resize",role:"presentation"}),import_react8.default.createElement("div",{ref:l,className:"ag-header-cell-comp-wrapper",role:"presentation"},g?P?import_react8.default.createElement(h,{...s.params}):import_react8.default.createElement(h,{...s.params,ref:R}):null))},headerCellComp_default=(0,import_react8.memo)(HeaderCellComp),import_react9=__toESM(require("react")),import_ag_grid_community10=require("ag-grid-community"),FloatingFilterDisplayComponentProxy=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){addOptionalMethods(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},HeaderFilterCellComp=({ctrl:e})=>{const{context:t,gos:r}=(0,import_react9.useContext)(BeansContext),[s,n]=(0,import_react9.useState)(),[c,o]=(0,import_react9.useState)(()=>new CssClasses("ag-header-cell","ag-floating-filter")),[i,a]=(0,import_react9.useState)(()=>new CssClasses),[d,l]=(0,import_react9.useState)(()=>new CssClasses("ag-floating-filter-button","ag-hidden")),[R,y]=(0,import_react9.useState)("false"),[f,P]=(0,import_react9.useState)(),[,g]=(0,import_react9.useState)(1),h=(0,import_react9.useRef)(),u=(0,import_react9.useRef)(null),E=(0,import_react9.useRef)(null),B=(0,import_react9.useRef)(null),w=(0,import_react9.useRef)(null),m=(0,import_react9.useRef)(),I=(0,import_react9.useRef)(),S=F=>{F!=null&&m.current?.(F)},O=(0,import_react9.useCallback)(F=>{if(u.current=F,!F||!e.isAlive()||t.isDestroyed()){h.current=t.destroyBean(h.current);return}h.current=t.createBean(new import_ag_grid_community10._EmptyBean),I.current=new import_ag_grid_community10.AgPromise(_=>{m.current=_});const H={toggleCss:(_,W)=>o(K=>K.setClass(_,W)),setUserStyles:_=>n(_),addOrRemoveBodyCssClass:(_,W)=>a(K=>K.setClass(_,W)),setButtonWrapperDisplayed:_=>{l(W=>W.setClass("ag-hidden",!_)),y(_?"false":"true")},setWidth:_=>{u.current&&(u.current.style.width=_)},setCompDetails:_=>P(_),getFloatingFilterComp:()=>I.current?I.current:null,setMenuIcon:_=>w.current?.appendChild(_)};e.setComp(H,F,w.current,E.current,h.current)},[]);(0,import_react9.useLayoutEffect)(()=>showJsComp(f,t,E.current,S),[f]);const x=(0,import_react9.useMemo)(()=>c.toString(),[c]),k=(0,import_react9.useMemo)(()=>i.toString(),[i]),C=(0,import_react9.useMemo)(()=>d.toString(),[d]),v=(0,import_react9.useMemo)(()=>!!(f&&f.componentFromFramework&&isComponentStateless(f.componentClass)),[f]),A=(0,import_react9.useMemo)(()=>r.get("reactiveCustomComponents"),[]),V=(0,import_react9.useMemo)(()=>r.get("enableFilterHandlers"),[]),[p,D]=(0,import_react9.useState)();(0,import_react9.useEffect)(()=>{if(f?.componentFromFramework)if(A){const F=V?FloatingFilterDisplayComponentProxy:FloatingFilterComponentProxy,H=new F(f.params,()=>g(_=>_+1));S(H),D(H)}else warnReactiveCustomComponents()},[f]);const T=p?.getProps(),M=f?.componentFromFramework,N=f?.componentClass;return import_react9.default.createElement("div",{ref:O,style:s,className:x,role:"gridcell"},import_react9.default.createElement("div",{ref:E,className:k,role:"presentation"},M?A?T&&import_react9.default.createElement(CustomContext.Provider,{value:{setMethods:F=>p.setMethods(F)}},import_react9.default.createElement(N,{...T})):import_react9.default.createElement(N,{...f.params,ref:v?()=>{}:S}):null),import_react9.default.createElement("div",{ref:B,"aria-hidden":R,className:C,role:"presentation"},import_react9.default.createElement("button",{ref:w,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},headerFilterCellComp_default=(0,import_react9.memo)(HeaderFilterCellComp),import_react10=__toESM(require("react")),import_ag_grid_community11=require("ag-grid-community"),HeaderGroupCellComp=({ctrl:e})=>{const{context:t}=(0,import_react10.useContext)(BeansContext),[r,s]=(0,import_react10.useState)(),[n,c]=(0,import_react10.useState)(()=>new CssClasses),[o,i]=(0,import_react10.useState)(()=>new CssClasses),[a,d]=(0,import_react10.useState)("false"),[l,R]=(0,import_react10.useState)(),[y,f]=(0,import_react10.useState)(),P=(0,import_react10.useRef)(),g=(0,import_react10.useRef)(null),h=(0,import_react10.useRef)(null),u=(0,import_react10.useRef)(null),E=(0,import_react10.useRef)(),B=(0,import_react10.useCallback)(x=>{if(g.current=x,!x||!e.isAlive()||t.isDestroyed()){P.current=t.destroyBean(P.current);return}P.current=t.createBean(new import_ag_grid_community11._EmptyBean);const k={setWidth:C=>{g.current&&(g.current.style.width=C)},toggleCss:(C,v)=>c(A=>A.setClass(C,v)),setUserStyles:C=>s(C),setHeaderWrapperHidden:C=>{const v=u.current;v&&(C?v.style.setProperty("display","none"):v.style.removeProperty("display"))},setHeaderWrapperMaxHeight:C=>{const v=u.current;v&&(C!=null?v.style.setProperty("max-height",`${C}px`):v.style.removeProperty("max-height"),v.classList.toggle("ag-header-cell-comp-wrapper-limited-height",C!=null))},setUserCompDetails:C=>f(C),setResizableDisplayed:C=>{i(v=>v.setClass("ag-hidden",!C)),d(C?"false":"true")},setAriaExpanded:C=>R(C),getUserCompInstance:()=>E.current||void 0};e.setComp(k,x,h.current,u.current,P.current)},[]);(0,import_react10.useLayoutEffect)(()=>showJsComp(y,t,u.current),[y]),(0,import_react10.useEffect)(()=>{g.current&&e.setDragSource(g.current)},[y]);const w=(0,import_react10.useMemo)(()=>!!(y?.componentFromFramework&&isComponentStateless(y.componentClass)),[y]),m=(0,import_react10.useMemo)(()=>"ag-header-group-cell "+n.toString(),[n]),I=(0,import_react10.useMemo)(()=>"ag-header-cell-resize "+o.toString(),[o]),S=y?.componentFromFramework,O=y?.componentClass;return import_react10.default.createElement("div",{ref:B,style:r,className:m,role:"columnheader","aria-expanded":l},import_react10.default.createElement("div",{ref:u,className:"ag-header-cell-comp-wrapper",role:"presentation"},S?w?import_react10.default.createElement(O,{...y.params}):import_react10.default.createElement(O,{...y.params,ref:E}):null),import_react10.default.createElement("div",{ref:h,"aria-hidden":a,className:I}))},headerGroupCellComp_default=(0,import_react10.memo)(HeaderGroupCellComp),HeaderRowComp=({ctrl:e})=>{const{gos:t,context:r}=(0,import_react11.useContext)(BeansContext),{topOffset:s,rowHeight:n}=(0,import_react11.useMemo)(()=>e.getTopAndHeight(),[]),c=(0,import_react11.useMemo)(()=>t.get("tabIndex"),[]),[o,i]=(0,import_react11.useState)(()=>e.getAriaRowIndex()),a=e.headerRowClass,[d,l]=(0,import_react11.useState)(()=>n+"px"),[R,y]=(0,import_react11.useState)(()=>s+"px"),f=(0,import_react11.useRef)(null),[P,g]=(0,import_react11.useState)(()=>e.getUpdatedHeaderCtrls()),h=(0,import_react11.useRef)(),u=(0,import_react11.useRef)(null),E=(0,import_react11.useCallback)(m=>{if(u.current=m,!m||!e.isAlive()||r.isDestroyed()){h.current=r.destroyBean(h.current);return}h.current=r.createBean(new import_ag_grid_community12._EmptyBean);const I={setHeight:S=>l(S),setTop:S=>y(S),setHeaderCtrls:(S,O,x)=>{const k=f.current,C=getNextValueIfDifferent(k,S,O);C!==k&&(f.current=C,agFlushSync(x,()=>g(C)))},setWidth:S=>{u.current&&(u.current.style.width=S)},setRowIndex:S=>{i(S)}};e.setComp(I,h.current,!1)},[]),B=(0,import_react11.useMemo)(()=>({height:d,top:R}),[d,R]),w=(0,import_react11.useCallback)(m=>{switch(e.type){case"group":return import_react11.default.createElement(headerGroupCellComp_default,{ctrl:m,key:m.instanceId});case"filter":return import_react11.default.createElement(headerFilterCellComp_default,{ctrl:m,key:m.instanceId});default:return import_react11.default.createElement(headerCellComp_default,{ctrl:m,key:m.instanceId})}},[]);return import_react11.default.createElement("div",{ref:E,className:a,role:"row",style:B,tabIndex:c,"aria-rowindex":o},P.map(w))},headerRowComp_default=(0,import_react11.memo)(HeaderRowComp),HeaderRowContainerComp=({pinned:e})=>{const[t,r]=(0,import_react12.useState)(!0),[s,n]=(0,import_react12.useState)([]),{context:c}=(0,import_react12.useContext)(BeansContext),o=(0,import_react12.useRef)(null),i=(0,import_react12.useRef)(null),a=(0,import_react12.useRef)(),d=e==="left",l=e==="right",R=!d&&!l,y=(0,import_react12.useCallback)(g=>{if(o.current=g,!g||c.isDestroyed()){a.current=c.destroyBean(a.current);return}a.current=c.createBean(new import_ag_grid_community13.HeaderRowContainerCtrl(e));const h={setDisplayed:r,setCtrls:u=>n(u),setCenterWidth:u=>{i.current&&(i.current.style.width=u)},setViewportScrollLeft:u=>{o.current&&(o.current.scrollLeft=u)},setPinnedContainerWidth:u=>{o.current&&(o.current.style.width=u,o.current.style.minWidth=u,o.current.style.maxWidth=u)}};a.current.setComp(h,o.current)},[]),f=t?"":"ag-hidden",P=()=>s.map(g=>import_react12.default.createElement(headerRowComp_default,{ctrl:g,key:g.instanceId}));return d?import_react12.default.createElement("div",{ref:y,className:"ag-pinned-left-header "+f,"aria-hidden":!t,role:"rowgroup"},P()):l?import_react12.default.createElement("div",{ref:y,className:"ag-pinned-right-header "+f,"aria-hidden":!t,role:"rowgroup"},P()):R?import_react12.default.createElement("div",{ref:y,className:"ag-header-viewport "+f,role:"rowgroup",tabIndex:-1},import_react12.default.createElement("div",{ref:i,className:"ag-header-container",role:"presentation"},P())):null},headerRowContainerComp_default=(0,import_react12.memo)(HeaderRowContainerComp),GridHeaderComp=()=>{const[e,t]=(0,import_react13.useState)(()=>new CssClasses),[r,s]=(0,import_react13.useState)(),{context:n}=(0,import_react13.useContext)(BeansContext),c=(0,import_react13.useRef)(null),o=(0,import_react13.useRef)(),i=(0,import_react13.useCallback)(l=>{if(c.current=l,!l||n.isDestroyed()){o.current=n.destroyBean(o.current);return}o.current=n.createBean(new import_ag_grid_community14.GridHeaderCtrl);const R={toggleCss:(y,f)=>t(P=>P.setClass(y,f)),setHeightAndMinHeight:y=>s(y)};o.current.setComp(R,l,l)},[]),a=(0,import_react13.useMemo)(()=>"ag-header "+e.toString(),[e]),d=(0,import_react13.useMemo)(()=>({height:r,minHeight:r}),[r]);return import_react13.default.createElement("div",{ref:i,className:a,style:d,role:"presentation"},import_react13.default.createElement(headerRowContainerComp_default,{pinned:"left"}),import_react13.default.createElement(headerRowContainerComp_default,{pinned:null}),import_react13.default.createElement(headerRowContainerComp_default,{pinned:"right"}))},gridHeaderComp_default=(0,import_react13.memo)(GridHeaderComp),import_react14=require("react"),useReactCommentEffect=(e,t)=>{(0,import_react14.useEffect)(()=>{const r=t.current;if(r){const s=r.parentElement;if(s){const n=document.createComment(e);return s.insertBefore(n,r),()=>{n.remove()}}}},[e])},reactComment_default=useReactCommentEffect,import_react22=__toESM(require("react")),import_ag_grid_community19=require("ag-grid-community"),import_react21=__toESM(require("react")),import_ag_grid_community18=require("ag-grid-community"),import_react20=__toESM(require("react")),import_ag_grid_community17=require("ag-grid-community"),import_ag_grid_community15=require("ag-grid-community"),CellEditorComponentProxy=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new import_ag_grid_community15.AgPromise(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){addOptionalMethods(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},import_react17=__toESM(require("react")),import_react16=require("react"),import_react_dom3=require("react-dom"),import_ag_grid_community16=require("ag-grid-community"),import_react15=require("react"),useEffectOnce=e=>{const t=(0,import_react15.useRef)(e),r=(0,import_react15.useRef)(),s=(0,import_react15.useRef)(!1),n=(0,import_react15.useRef)(!1),[,c]=(0,import_react15.useState)(0);s.current&&(n.current=!0),(0,import_react15.useEffect)(()=>(s.current||(r.current=t.current(),s.current=!0),c(o=>o+1),()=>{n.current&&r.current?.()}),[])},PopupEditorComp=e=>{const[t,r]=(0,import_react16.useState)(),s=(0,import_react16.useContext)(BeansContext),{context:n,popupSvc:c,gos:o,editSvc:i}=s,{editDetails:a,cellCtrl:d,eParentCell:l}=e;return useEffectOnce(()=>{const{compDetails:R}=a,y=o.get("stopEditingWhenCellsLoseFocus");let f,P;if(!n.isDestroyed()){P=n.createBean(i.createPopupEditorWrapper(R.params));const g=P.getGui();if(e.jsChildComp){const m=e.jsChildComp.getGui();m&&g.appendChild(m)}const{column:h,rowNode:u}=d,E={column:h,rowNode:u,type:"popupCellEditor",eventSource:l,ePopup:g,position:a.popupPosition,keepWithinBounds:!0},B=c?.positionPopupByComponent.bind(c,E),w=c?.addPopup({modal:y,eChild:g,closeOnEsc:!0,closedCallback:()=>{d.onPopupEditorClosed()},anchorToElement:l,positionCallback:B,ariaOwns:l});f=w?w.hideFunc:void 0,r(P),e.jsChildComp?.afterGuiAttached?.()}return()=>{f?.(),n.destroyBean(P)}}),(0,import_react16.useLayoutEffect)(()=>()=>{d.isCellFocused()&&t?.getGui().contains((0,import_ag_grid_community16._getActiveDomElement)(s))&&l.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?(0,import_react_dom3.createPortal)(e.wrappedContent,t.getGui()):null},popupEditorComp_default=(0,import_react16.memo)(PopupEditorComp),jsxEditorProxy=(e,t,r)=>{const{compProxy:s}=e;r(s);const n=s.getProps(),c=isComponentStateless(t);return import_react17.default.createElement(CustomContext.Provider,{value:{setMethods:o=>s.setMethods(o)}},c?import_react17.default.createElement(t,{...n}):import_react17.default.createElement(t,{...n,ref:o=>s.setRef(o)}))},jsxEditor=(e,t,r)=>e.compProxy?jsxEditorProxy(e,t,r):import_react17.default.createElement(t,{...e.compDetails.params,ref:r}),jsxEditValue=(e,t,r,s,n)=>{const c=e.compDetails,o=c.componentClass,i=c.componentFromFramework&&!e.popup,a=c.componentFromFramework&&e.popup,d=!c.componentFromFramework&&e.popup;return i?jsxEditor(e,o,t):a?import_react17.default.createElement(popupEditorComp_default,{editDetails:e,cellCtrl:s,eParentCell:r,wrappedContent:jsxEditor(e,o,t)}):d&&n?import_react17.default.createElement(popupEditorComp_default,{editDetails:e,cellCtrl:s,eParentCell:r,jsChildComp:n}):null},import_react18=require("react"),useJsCellRenderer=(e,t,r,s,n,c,o=!1)=>{const{context:i}=(0,import_react18.useContext)(BeansContext),a=(0,import_react18.useCallback)(()=>{const d=n.current;if(!d)return;const l=d.getGui();l&&l.parentElement&&l.remove(),i.destroyBean(d),n.current=void 0},[]);(0,import_react18.useEffect)(()=>{const d=e!=null&&!o,l=e?.compDetails&&!e.compDetails.componentFromFramework,R=t&&r==null;if(!(d&&l&&!R)){a();return}const f=e.compDetails;if(n.current){const g=n.current,u=g.refresh!=null&&e.force==!1?g.refresh(f.params):!1;if(u===!0||u===void 0)return;a()}f.newAgStackInstance().then(g=>{if(!g)return;const h=g.getGui();if(!h)return;(t?r:c.current).appendChild(h),n.current=g})},[e,t,s,o]),(0,import_react18.useEffect)(()=>a,[])},showJsRenderer_default=useJsCellRenderer,import_react19=__toESM(require("react")),SkeletonCellRenderer=({cellCtrl:e,parent:t})=>{const r=(0,import_react19.useRef)(),s=(0,import_react19.useMemo)(()=>{const{loadingComp:n}=e.getDeferLoadingCellRenderer();return n?{value:void 0,compDetails:n,force:!1}:void 0},[e]);if(showJsRenderer_default(s,!1,void 0,1,r,t),s?.compDetails?.componentFromFramework){const n=s.compDetails.componentClass;return import_react19.default.createElement(n,{...s.compDetails.params})}return import_react19.default.createElement(import_react19.default.Fragment,null)},CellComp=({cellCtrl:e,printLayout:t,editingCell:r})=>{const s=(0,import_react20.useContext)(BeansContext),{context:n}=s,{column:{colIdSanitised:c},instanceId:o}=e,i=(0,import_react20.useRef)(),[a,d]=(0,import_react20.useState)(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[l,R]=(0,import_react20.useState)(),[y,f]=(0,import_react20.useState)(1),[P,g]=(0,import_react20.useState)(),[h,u]=(0,import_react20.useState)(!1),[E,B]=(0,import_react20.useState)(!1),[w,m]=(0,import_react20.useState)(!1),[I,S]=(0,import_react20.useState)(),O=(0,import_react20.useMemo)(()=>e.isForceWrapper(),[e]),x=(0,import_react20.useMemo)(()=>e.getCellAriaRole(),[e]),k=(0,import_react20.useRef)(null),C=(0,import_react20.useRef)(null),v=(0,import_react20.useRef)(null),A=(0,import_react20.useRef)(),V=(0,import_react20.useRef)(),p=(0,import_react20.useRef)(),D=(0,import_react20.useRef)([]),T=(0,import_react20.useRef)(),M=(0,import_react20.useRef)(),[N,F]=(0,import_react20.useState)(0),H=(0,import_react20.useCallback)(G=>{M.current=G,F(U=>U+1)},[]),_=a!=null&&(h||w||E)&&(l==null||!!l.popup),W=O||_,K=(0,import_react20.useMemo)(()=>e.getCellValueClass(),[e]),te=(0,import_react20.useCallback)(G=>{if(V.current=G,G){const U=G.isCancelBeforeStart&&G.isCancelBeforeStart();setTimeout(()=>{U?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(G))})}},[e]),J=(0,import_react20.useRef)();J.current||(J.current=new import_ag_grid_community17.CssClassManager(()=>k.current));const ae=!!l&&!l.popup;showJsRenderer_default(a,W,M.current,N,A,k,ae);const ie=(0,import_react20.useRef)();(0,import_react20.useLayoutEffect)(()=>{const G=ie.current,U=a;if(ie.current=a,G==null||G.compDetails==null||U==null||U.compDetails==null)return;T.current?.refreshVisibility();const $=G.compDetails,z=U.compDetails;if($.componentClass!=z.componentClass||v.current?.refresh==null)return;v.current.refresh(z.params)!=!0&&f(L=>L+1)},[a]),(0,import_react20.useLayoutEffect)(()=>{if(!(l&&!l.compDetails.componentFromFramework)||n.isDestroyed())return;const U=l.compDetails,$=l.popup===!0,z=U.newAgStackInstance();return z.then(b=>{if(!b)return;const L=b.getGui();te(b),$||((O?p:k).current?.appendChild(L),b.afterGuiAttached?.()),S(b)}),()=>{z.then(b=>{const L=b.getGui();e.disableEditorTooltipFeature(),n.destroyBean(b),te(void 0),S(void 0),L?.remove()})}},[l]);const ce=(0,import_react20.useCallback)(G=>{if(p.current=G,!G||n.isDestroyed()||!e.isAlive()){const z=D.current;D.current=[];for(const b of z)b();return}let U;const $=z=>{z&&(G.insertAdjacentElement("afterbegin",z.getGui()),D.current.push(()=>{(0,import_ag_grid_community17._removeFromParent)(z.getGui()),n.destroyBean(z),T.current===U&&(T.current=void 0)}))};h&&$(e.createSelectionCheckbox()),w&&$(e.createDndSource()),E&&(U=e.createRowDragComp(),T.current=U,U&&($(U),U.refreshVisibility()))},[e,n,w,E,h]),q=(0,import_react20.useCallback)(()=>{const G=!e.isCellSpanning()||C.current,U=k.current;if(!U||!G||!e||!e.isAlive()||n.isDestroyed()){i.current=n.destroyBean(i.current);return}i.current=n.createBean(new import_ag_grid_community17._EmptyBean);const $={toggleCss:(b,L)=>J.current.toggleCss(b,L),setUserStyles:b=>g(b),getFocusableElement:()=>k.current,setIncludeSelection:b=>u(b),setIncludeRowDrag:b=>B(b),setIncludeDndSource:b=>m(b),getCellEditor:()=>V.current??null,getCellRenderer:()=>v.current??A.current,getParentOfValue:()=>M.current??p.current??k.current,setRenderDetails:(b,L,Y)=>{const re=()=>{d(Z=>Z?.compDetails!==b||Z?.value!==L||Z?.force!==Y?{value:L,compDetails:b,force:Y}:Z)};if(b?.params?.deferRender&&!e.rowNode.group){const{loadingComp:Z,onReady:le}=e.getDeferLoadingCellRenderer();if(Z){d({value:void 0,compDetails:Z,force:!1}),le.then(()=>agStartTransition(re));return}}re()},setEditDetails:(b,L,Y,re)=>{if(b){let Z;b.componentFromFramework&&(re?Z=new CellEditorComponentProxy(b.params,()=>f(le=>le+1)):warnReactiveCustomComponents()),R({compDetails:b,popup:L,popupPosition:Y,compProxy:Z}),L||d(void 0)}else e.hasBrowserFocus()&&$.getFocusableElement().focus({preventScroll:!0}),V.current=void 0,R(void 0)},refreshEditStyles:(b,L)=>{if(!k.current)return;const{current:Y}=J;Y.toggleCss("ag-cell-value",!W),Y.toggleCss("ag-cell-inline-editing",!!b&&!L),Y.toggleCss("ag-cell-popup-editing",!!b&&!!L),Y.toggleCss("ag-cell-not-inline-editing",!b||!!L)}},z=p.current||void 0;e.setComp($,U,C.current??void 0,z,t,r,i.current)},[]),oe=(0,import_react20.useCallback)(G=>{k.current=G,q()},[]),Q=(0,import_react20.useCallback)(G=>{C.current=G,q()},[]),ee=(0,import_react20.useMemo)(()=>!!(a?.compDetails?.componentFromFramework&&isComponentStateless(a.compDetails.componentClass)),[a]);(0,import_react20.useLayoutEffect)(()=>{if(!k.current)return;const{current:G}=J;G.toggleCss("ag-cell-value",!W),G.toggleCss("ag-cell-inline-editing",!!l&&!l.popup),G.toggleCss("ag-cell-popup-editing",!!l&&!!l.popup),G.toggleCss("ag-cell-not-inline-editing",!l||!!l.popup)});const se=()=>{const{compDetails:G,value:U}=a;if(!G)return U?.toString?.()??U;if(G.componentFromFramework){const $=G.componentClass;return import_react20.default.createElement(import_react20.Suspense,{fallback:import_react20.default.createElement(SkeletonCellRenderer,{cellCtrl:e,parent:k})},ee?import_react20.default.createElement($,{...G.params,key:y}):import_react20.default.createElement($,{...G.params,key:y,ref:v}))}},ne=()=>{const G=()=>a==null?null:W?import_react20.default.createElement("span",{role:"presentation",id:`cell-${o}`,className:K,ref:H},se()):se(),U=$=>jsxEditValue($,te,k.current,e,I);return l!=null?l.popup?import_react20.default.createElement(import_react20.default.Fragment,null,G(),U(l)):U(l):G()},ue=()=>import_react20.default.createElement("div",{ref:oe,style:P,role:x,"col-id":c},W?import_react20.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:ce},ne()):ne());return e.isCellSpanning()?import_react20.default.createElement("div",{ref:Q,className:"ag-spanned-cell-wrapper",role:"presentation"},ue()):ue()},cellComp_default=(0,import_react20.memo)(CellComp),RowComp=({rowCtrl:e,containerType:t})=>{const{context:r,gos:s,editSvc:n}=(0,import_react21.useContext)(BeansContext),c=(0,import_react21.useContext)(RenderModeContext)==="default",o=(0,import_react21.useRef)(),i=(0,import_react21.useRef)(e.getDomOrder()),a=e.isFullWidth(),d=e.rowNode.displayed,[l,R]=(0,import_react21.useState)(()=>d?e.rowNode.getRowIndexString():null),[y,f]=(0,import_react21.useState)(()=>e.rowId),[P,g]=(0,import_react21.useState)(()=>e.businessKey),[h,u]=(0,import_react21.useState)(()=>e.rowStyles),E=(0,import_react21.useRef)(null),[B,w]=(0,import_react21.useState)(()=>null),[m,I]=(0,import_react21.useState)(),[S,O]=(0,import_react21.useState)(()=>d?e.getInitialRowTop(t):void 0),[x,k]=(0,import_react21.useState)(()=>d?e.getInitialTransform(t):void 0),C=(0,import_react21.useRef)(null),v=(0,import_react21.useRef)(),A=(0,import_react21.useRef)(),V=(0,import_react21.useRef)(!1),[p,D]=(0,import_react21.useState)(0);(0,import_react21.useEffect)(()=>{if(V.current||!m||p>10)return;const q=C.current?.firstChild;q?(e.setupDetailRowAutoHeight(q),V.current=!0):D(oe=>oe+1)},[m,p]);const T=(0,import_react21.useRef)();T.current||(T.current=new import_ag_grid_community18.CssClassManager(()=>C.current));const M=(0,import_react21.useRef)(()=>{}),N=(0,import_react21.useCallback)(q=>(M.current=q,()=>{M.current=()=>{}}),[]),F=agUseSyncExternalStore(N,()=>E.current,[]),H=c?F:B,_=(0,import_react21.useCallback)(q=>{if(C.current=q,o.current=q?r.createBean(new import_ag_grid_community18._EmptyBean):r.destroyBean(o.current),!q){e.unsetComp(t);return}if(!e.isAlive()||r.isDestroyed())return;const oe={setTop:O,setTransform:k,toggleCss:(Q,ee)=>T.current.toggleCss(Q,ee),setDomOrder:Q=>i.current=Q,setRowIndex:R,setRowId:f,setRowBusinessKey:g,setUserStyles:u,setCellCtrls:(Q,ee)=>{const se=E.current,ne=getNextValueIfDifferent(se,Q,i.current);ne!==se&&(E.current=ne,c?M.current():agFlushSync(ee,()=>w(ne)))},showFullWidth:Q=>{A.current=Q.params,I(Q)},getFullWidthCellRenderer:()=>v.current,getFullWidthCellRendererParams:()=>A.current,refreshFullWidth:Q=>{const ee=Q();return A.current=ee,ae.current?(I(se=>({...se,params:ee})),!0):!v.current||!v.current.refresh?!1:v.current.refresh(ee)}};e.setComp(oe,q,t,o.current)},[]);(0,import_react21.useLayoutEffect)(()=>showJsComp(m,r,C.current,v),[m]);const W=(0,import_react21.useMemo)(()=>{const q={top:S,transform:x};return Object.assign(q,h),q},[S,x,h]),K=a&&m?.componentFromFramework,te=!a&&H!=null,J=(0,import_react21.useMemo)(()=>!!(m?.componentFromFramework&&isComponentStateless(m.componentClass)),[m]),ae=(0,import_react21.useRef)(!1);(0,import_react21.useEffect)(()=>{ae.current=J&&!!m&&!!s.get("reactiveCustomComponents")},[J,m]);const ie=()=>H?.map(q=>import_react21.default.createElement(cellComp_default,{cellCtrl:q,editingCell:n?.isEditing(q,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:q.instanceId})),ce=()=>{const q=m.componentClass;return J?import_react21.default.createElement(q,{...m.params}):import_react21.default.createElement(q,{...m.params,ref:v})};return import_react21.default.createElement("div",{ref:_,role:"row",style:W,"row-index":l,"row-id":y,"row-business-key":P},te?ie():K?ce():null)},rowComp_default=(0,import_react21.memo)(RowComp),RowContainerComp=({name:e})=>{const{context:t,gos:r}=(0,import_react22.useContext)(BeansContext),s=(0,import_react22.useMemo)(()=>(0,import_ag_grid_community19._getRowContainerOptions)(e),[e]),n=(0,import_react22.useRef)(null),c=(0,import_react22.useRef)(null),o=(0,import_react22.useRef)(null),i=(0,import_react22.useRef)([]),a=(0,import_react22.useRef)([]),[d,l]=(0,import_react22.useState)(()=>[]),R=!!r.get("enableCellSpan")&&!!s.getSpannedRowCtrls,y=(0,import_react22.useRef)([]),f=(0,import_react22.useRef)([]),[P,g]=(0,import_react22.useState)(()=>[]),h=(0,import_react22.useRef)(!1),u=(0,import_react22.useRef)(),E=(0,import_react22.useMemo)(()=>classesList("ag-viewport",(0,import_ag_grid_community19._getRowViewportClass)(e)),[e]),B=(0,import_react22.useMemo)(()=>classesList((0,import_ag_grid_community19._getRowContainerClass)(e)),[e]),w=(0,import_react22.useMemo)(()=>classesList("ag-spanning-container",(0,import_ag_grid_community19._getRowSpanContainerClass)(e)),[e]),m=s.type==="center"||R,I=m?n:c;reactComment_default(" AG Row Container "+e+" ",I);const S=(0,import_react22.useCallback)(()=>{const p=!m||n.current!=null,D=c.current!=null,T=!R||o.current!=null;return p&&D&&T},[]),O=(0,import_react22.useCallback)(()=>n.current==null&&c.current==null&&o.current==null,[]),x=(0,import_react22.useCallback)(()=>{if(O()&&(u.current=t.destroyBean(u.current)),!t.isDestroyed()&&S()){const p=M=>{const N=getNextValueIfDifferent(a.current,i.current,h.current);N!==a.current&&(a.current=N,agFlushSync(M,()=>l(N)))},D=M=>{const N=getNextValueIfDifferent(f.current,y.current,h.current);N!==f.current&&(f.current=N,agFlushSync(M,()=>g(N)))},T={setHorizontalScroll:M=>{n.current&&(n.current.scrollLeft=M)},setViewportHeight:M=>{n.current&&(n.current.style.height=M)},setRowCtrls:({rowCtrls:M,useFlushSync:N})=>{const F=!!N&&i.current.length>0&&M.length>0;i.current=M,p(F)},setSpannedRowCtrls:(M,N)=>{const F=!!N&&y.current.length>0&&M.length>0;y.current=M,D(F)},setDomOrder:M=>{h.current!=M&&(h.current=M,p(!1))},setContainerWidth:M=>{c.current&&(c.current.style.width=M)},setOffsetTop:M=>{c.current&&(c.current.style.transform=`translateY(${M})`)}};u.current=t.createBean(new import_ag_grid_community19.RowContainerCtrl(e)),u.current.setComp(T,c.current,o.current??void 0,n.current)}},[S,O]),k=(0,import_react22.useCallback)(p=>{c.current=p,x()},[x]),C=(0,import_react22.useCallback)(p=>{o.current=p,x()},[x]),v=(0,import_react22.useCallback)(p=>{n.current=p,x()},[x]),A=()=>import_react22.default.createElement("div",{className:B,ref:k,role:m?"presentation":"rowgroup"},d.map(p=>import_react22.default.createElement(rowComp_default,{rowCtrl:p,containerType:s.type,key:p.instanceId})));if(!m)return A();const V=()=>import_react22.default.createElement("div",{className:w,ref:C,role:"presentation"},P.map(p=>import_react22.default.createElement(rowComp_default,{rowCtrl:p,containerType:s.type,key:p.instanceId})));return import_react22.default.createElement("div",{className:E,ref:v,role:"rowgroup"},A(),R?V():null)},rowContainerComp_default=(0,import_react22.memo)(RowContainerComp),GridBodyComp=()=>{const e=(0,import_react23.useContext)(BeansContext),{context:t,overlays:r}=e,[s,n]=(0,import_react23.useState)(""),[c,o]=(0,import_react23.useState)(0),[i,a]=(0,import_react23.useState)(0),[d,l]=(0,import_react23.useState)("0px"),[R,y]=(0,import_react23.useState)("0px"),[f,P]=(0,import_react23.useState)("100%"),[g,h]=(0,import_react23.useState)("0px"),[u,E]=(0,import_react23.useState)("0px"),[B,w]=(0,import_react23.useState)("100%"),[m,I]=(0,import_react23.useState)(!0),[S,O]=(0,import_react23.useState)(!0),[x,k]=(0,import_react23.useState)(null),[C,v]=(0,import_react23.useState)(""),[A,V]=(0,import_react23.useState)(null),[p,D]=(0,import_react23.useState)("ag-layout-normal"),T=(0,import_react23.useRef)();T.current||(T.current=new import_ag_grid_community20.CssClassManager(()=>M.current));const M=(0,import_react23.useRef)(null),N=(0,import_react23.useRef)(null),F=(0,import_react23.useRef)(null),H=(0,import_react23.useRef)(null),_=(0,import_react23.useRef)(null),W=(0,import_react23.useRef)(null),K=(0,import_react23.useRef)(null),te=(0,import_react23.useRef)([]),J=(0,import_react23.useRef)([]);reactComment_default(" AG Grid Body ",M),reactComment_default(" AG Pinned Top ",N),reactComment_default(" AG Sticky Top ",F),reactComment_default(" AG Middle ",W),reactComment_default(" AG Pinned Bottom ",K);const ae=(0,import_react23.useCallback)(b=>{if(M.current=b,!b||t.isDestroyed()){te.current=t.destroyBeans(te.current);for(const j of J.current)j();J.current=[];return}const L=(j,X)=>{j.appendChild(X),J.current.push(()=>X.remove())},Y=j=>{const X=t.createBean(new j);return te.current.push(X),X},re=(j,X,me)=>{L(j,document.createComment(me)),L(j,Y(X).getGui())};re(b,import_ag_grid_community20.FakeHScrollComp," AG Fake Horizontal Scroll ");const Z=r?.getOverlayWrapperCompClass();Z&&re(b,Z," AG Overlay Wrapper "),_.current&&re(_.current,import_ag_grid_community20.FakeVScrollComp," AG Fake Vertical Scroll ");const le={setRowAnimationCssOnBodyViewport:n,setColumnCount:j=>{M.current&&(0,import_ag_grid_community20._setAriaColCount)(M.current,j)},setRowCount:j=>{M.current&&(0,import_ag_grid_community20._setAriaRowCount)(M.current,j)},setTopHeight:o,setBottomHeight:a,setStickyTopHeight:l,setStickyTopTop:y,setStickyTopWidth:P,setTopInvisible:I,setBottomInvisible:O,setColumnMovingCss:(j,X)=>T.current.toggleCss(j,X),updateLayoutClasses:D,setAlwaysVerticalScrollClass:k,setPinnedTopBottomOverflowY:v,setCellSelectableCss:(j,X)=>V(X?j:null),setBodyViewportWidth:j=>{W.current&&(W.current.style.width=j)},registerBodyViewportResizeListener:j=>{if(W.current){const X=(0,import_ag_grid_community20._observeResize)(e,W.current,j);J.current.push(()=>X())}},setStickyBottomHeight:h,setStickyBottomBottom:E,setStickyBottomWidth:w,setGridRootRole:j=>b.setAttribute("role",j)},de=t.createBean(new import_ag_grid_community20.GridBodyCtrl);te.current.push(de),de.setComp(le,b,W.current,N.current,K.current,F.current,H.current)},[]),ie=(0,import_react23.useMemo)(()=>classesList("ag-root","ag-unselectable",p),[p]),ce=(0,import_react23.useMemo)(()=>classesList("ag-body-viewport",s,p,x,A),[s,p,x,A]),q=(0,import_react23.useMemo)(()=>classesList("ag-body",p),[p]),oe=(0,import_react23.useMemo)(()=>classesList("ag-floating-top",m?"ag-invisible":null,A),[A,m]),Q=(0,import_react23.useMemo)(()=>classesList("ag-sticky-top",A),[A]),ee=(0,import_react23.useMemo)(()=>classesList("ag-sticky-bottom",g==="0px"?"ag-invisible":null,A),[A,g]),se=(0,import_react23.useMemo)(()=>classesList("ag-floating-bottom",S?"ag-invisible":null,A),[A,S]),ne=(0,import_react23.useMemo)(()=>({height:c,minHeight:c,overflowY:C}),[c,C]),ue=(0,import_react23.useMemo)(()=>({height:d,top:R,width:f}),[d,R,f]),G=(0,import_react23.useMemo)(()=>({height:g,bottom:u,width:B}),[g,u,B]),U=(0,import_react23.useMemo)(()=>({height:i,minHeight:i,overflowY:C}),[i,C]),$=b=>import_react23.default.createElement(rowContainerComp_default,{name:b,key:`${b}-container`}),z=({section:b,children:L,className:Y,style:re})=>import_react23.default.createElement("div",{ref:b,className:Y,role:"presentation",style:re},L.map($));return import_react23.default.createElement("div",{ref:ae,className:ie},import_react23.default.createElement(gridHeaderComp_default,null),z({section:N,className:oe,style:ne,children:["topLeft","topCenter","topRight","topFullWidth"]}),import_react23.default.createElement("div",{className:q,ref:_,role:"presentation"},z({section:W,className:ce,children:["left","center","right","fullWidth"]})),z({section:F,className:Q,style:ue,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),z({section:H,className:ee,style:G,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),z({section:K,className:se,style:U,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},gridBodyComp_default=(0,import_react23.memo)(GridBodyComp),import_react24=__toESM(require("react")),import_ag_grid_community21=require("ag-grid-community"),TabGuardCompRef=(e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:n,gridCtrl:c,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:i}=e,{context:a}=(0,import_react24.useContext)(BeansContext),d=(0,import_react24.useRef)(null),l=(0,import_react24.useRef)(null),R=(0,import_react24.useRef)(),y=u=>{const E=u==null?void 0:parseInt(u,10).toString();for(const B of[d,l])E===void 0?B.current?.removeAttribute("tabindex"):B.current?.setAttribute("tabindex",E)};(0,import_react24.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(u){R.current?.forceFocusOutOfContainer(u)}}));const f=(0,import_react24.useCallback)(()=>{const u=d.current,E=l.current;if(!u&&!E||a.isDestroyed()){R.current=a.destroyBean(R.current);return}if(u&&E){const B={setTabIndex:y};R.current=a.createBean(new import_ag_grid_community21.TabGuardCtrl({comp:B,eTopGuard:u,eBottomGuard:E,eFocusableElement:s,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:w=>c.focusInnerElement(w),isEmpty:i}))}},[]),P=(0,import_react24.useCallback)(u=>{d.current=u,f()},[f]),g=(0,import_react24.useCallback)(u=>{l.current=u,f()},[f]),h=u=>{const E=u==="top"?import_ag_grid_community21.TabGuardClassNames.TAB_GUARD_TOP:import_ag_grid_community21.TabGuardClassNames.TAB_GUARD_BOTTOM;return import_react24.default.createElement("div",{className:`${import_ag_grid_community21.TabGuardClassNames.TAB_GUARD} ${E}`,role:"presentation",ref:u==="top"?P:g})};return import_react24.default.createElement(import_react24.default.Fragment,null,h("top"),r,h("bottom"))},TabGuardComp=(0,import_react24.forwardRef)(TabGuardCompRef),tabGuardComp_default=(0,import_react24.memo)(TabGuardComp),GridComp=({context:e})=>{const[t,r]=(0,import_react25.useState)(""),[s,n]=(0,import_react25.useState)(""),[c,o]=(0,import_react25.useState)(null),[i,a]=(0,import_react25.useState)(null),[d,l]=(0,import_react25.useState)(!1),[R,y]=(0,import_react25.useState)(),f=(0,import_react25.useRef)(),P=(0,import_react25.useRef)(null),g=(0,import_react25.useRef)(),[h,u]=(0,import_react25.useState)(null),E=(0,import_react25.useRef)(()=>{}),B=(0,import_react25.useRef)(),w=(0,import_react25.useRef)([]),m=(0,import_react25.useCallback)(()=>{},[]);reactComment_default(" AG Grid ",P);const I=(0,import_react25.useCallback)(v=>{if(P.current=v,f.current=v?e.createBean(new import_ag_grid_community22.GridCtrl):e.destroyBean(f.current),!v||e.isDestroyed())return;const A=f.current;E.current=A.focusInnerElement.bind(A);const V={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:p=>{if(!p&&B.current?.isDisplayed()){B.current.forceFocusOutOfContainer(p);return}g.current?.forceFocusOutOfContainer(p)},updateLayoutClasses:n,getFocusableContainers:()=>{const p=[],D=P.current?.querySelector(".ag-root");D&&p.push({getGui:()=>D});for(const T of w.current)T.isDisplayed()&&p.push(T);return p},setCursor:o,setUserSelect:a};A.setComp(V,v,v),l(!0)},[]);(0,import_react25.useEffect)(()=>{const v=f.current,A=P.current;if(!R||!v||!h||!A||e.isDestroyed())return;const V=[],{watermarkSelector:p,paginationSelector:D,sideBarSelector:T,statusBarSelector:M,gridHeaderDropZonesSelector:N}=v.getOptionalSelectors(),F=[];if(N){const _=e.createBean(new N.component),W=_.getGui();A.insertAdjacentElement("afterbegin",W),F.push(W),V.push(_)}if(T){const _=e.createBean(new T.component),W=_.getGui(),K=h.querySelector(".ag-tab-guard-bottom");K&&(K.insertAdjacentElement("beforebegin",W),F.push(W)),V.push(_),w.current.push(_)}const H=_=>{const W=e.createBean(new _),K=W.getGui();return A.insertAdjacentElement("beforeend",K),F.push(K),V.push(W),W};if(M&&H(M.component),D){const _=H(D.component);B.current=_,w.current.push(_)}return p&&H(p.component),()=>{e.destroyBeans(V);for(const _ of F)_.remove()}},[R,h,e]);const S=(0,import_react25.useMemo)(()=>classesList("ag-root-wrapper",t,s),[t,s]),O=(0,import_react25.useMemo)(()=>classesList("ag-root-wrapper-body","ag-focus-managed",s),[s]),x=(0,import_react25.useMemo)(()=>({userSelect:i??"",WebkitUserSelect:i??"",cursor:c??""}),[i,c]),k=(0,import_react25.useCallback)(v=>{g.current=v,y(v!==null)},[]),C=(0,import_react25.useCallback)(()=>!f.current?.isFocusable(),[]);return import_react25.default.createElement("div",{ref:I,className:S,style:x,role:"presentation"},import_react25.default.createElement("div",{className:O,ref:u,role:"presentation"},d&&h&&!e.isDestroyed()&&import_react25.default.createElement(BeansContext.Provider,{value:e.getBeans()},import_react25.default.createElement(tabGuardComp_default,{ref:k,eFocusableElement:h,onTabKeyDown:m,gridCtrl:f.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:C},import_react25.default.createElement(gridBodyComp_default,null)))))},gridComp_default=(0,import_react25.memo)(GridComp),import_ag_grid_community23=require("ag-grid-community"),RenderStatusService=class extends import_ag_grid_community23.BeanStub{postConstruct(){if(this.beans.colAutosize){const e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){const e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(t=>!!t.eGui))}},import_react26=require("react"),useIsomorphicLayoutEffect=typeof window>"u"?import_react26.useEffect:import_react26.useLayoutEffect,deprecatedProps={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},reactPropsNotGridOptions={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...deprecatedProps},excludeReactCompProps=new Set(Object.keys(reactPropsNotGridOptions)),deprecatedReactCompProps=new Set(Object.keys(deprecatedProps)),AgGridReactUi=e=>{const t=(0,import_react27.useContext)(ModulesContext),r=(0,import_react27.useContext)(LicenseContext),s=(0,import_react27.useRef)(),n=(0,import_react27.useRef)(null),c=(0,import_react27.useRef)(null),o=(0,import_react27.useRef)([]),i=(0,import_react27.useRef)([]),a=(0,import_react27.useRef)(e),d=(0,import_react27.useRef)(),l=(0,import_react27.useRef)(),R=(0,import_react27.useRef)(!1),[y,f]=(0,import_react27.useState)(void 0),[,P]=(0,import_react27.useState)(0),g=(0,import_react27.useRef)(),h=m=>{const I=n.current?.classList,S=(O="")=>O.trim().split(/\s+/g).filter(Boolean);if(g.current!==m){for(const O of S(g.current))I?.contains(O)&&I.remove(O);for(const O of S(m))I?.contains(O)||I?.add(O);g.current=m}};useIsomorphicLayoutEffect(()=>{h(e.className)},[e.className]);const u=(0,import_react27.useCallback)(m=>{if(n.current=m,h(e.className),!m){for(const p of o.current)p();o.current.length=0;return}const I=[...e.modules??[],...t??[]];r&&(0,import_ag_grid_community24._findEnterpriseCoreModule)(I)?.setLicenseKey(r),c.current||(c.current=new PortalManager(()=>P(p=>p+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push(()=>{c.current?.destroy(),c.current=null}));const S=(0,import_ag_grid_community24._combineAttributesAndGridOptions)(e.gridOptions,e,Object.keys(e).filter(p=>!excludeReactCompProps.has(p))),O=()=>{if(R.current){const p=()=>d.current?.shouldQueueUpdates()?void 0:i.current.shift();let D=p();for(;D;)D(),D=p()}},x=new ReactFrameworkOverrides(O);d.current=x;const k=new RenderStatusService,C={providedBeanInstances:{frameworkCompWrapper:new ReactFrameworkComponentWrapper(c.current,S),renderStatus:k},modules:I,frameworkOverrides:x,setThemeOnGridDiv:!0},v=p=>{f(p),p.createBean(k),o.current.push(()=>{p.destroy()}),p.getBean("ctrlsSvc").whenReady({addDestroyFunc:D=>{o.current.push(D)}},()=>{if(p.isDestroyed())return;const D=s.current;D&&e.passGridApi?.(D)})},A=p=>{p.getBean("ctrlsSvc").whenReady({addDestroyFunc:D=>{o.current.push(D)}},()=>{for(const D of i.current)D();i.current.length=0,R.current=!0})},V=new import_ag_grid_community24.GridCoreCreator;S.gridId??(S.gridId=l.current),s.current=V.create(m,S,v,A,C),o.current.push(()=>{s.current=void 0}),s.current&&(l.current=s.current.getGridId())},[]),E=(0,import_react27.useMemo)(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),B=(0,import_react27.useCallback)(m=>{R.current&&!d.current?.shouldQueueUpdates()?m():i.current.push(m)},[]);(0,import_react27.useEffect)(()=>{const m=extractGridPropertyChanges(a.current,e);a.current=e,B(()=>{s.current&&(0,import_ag_grid_community24._processOnChange)(m,s.current)})},[e]);const w=!import_react27.default.useSyncExternalStore||(0,import_ag_grid_community24._getGridOption)(e,"renderingMode")==="legacy"?"legacy":"default";return import_react27.default.createElement("div",{style:E,ref:u},import_react27.default.createElement(RenderModeContext.Provider,{value:w},y&&!y.isDestroyed()?import_react27.default.createElement(gridComp_default,{key:y.instanceId,context:y}):null,c.current?.getPortals()??null))};function extractGridPropertyChanges(e,t){const r={};for(const s of Object.keys(t)){if(excludeReactCompProps.has(s)){deprecatedReactCompProps.has(s)&&(0,import_ag_grid_community24._warn)(274,{prop:s});continue}const n=t[s];e[s]!==n&&(r[s]=n)}return r}var ReactFrameworkComponentWrapper=class extends import_ag_grid_community24.BaseComponentWrapper{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const r=this.gridOptions;if((0,import_ag_grid_community24._getGridOption)(r,"reactiveCustomComponents")){const o=(i=>{switch(i){case"filter":return(0,import_ag_grid_community24._getGridOption)(r,"enableFilterHandlers")?FilterDisplayComponentWrapper:FilterComponentWrapper;case"floatingFilterComponent":return(0,import_ag_grid_community24._getGridOption)(r,"enableFilterHandlers")?FloatingFilterDisplayComponentWrapper:FloatingFilterComponentWrapper;case"dateComponent":return DateComponentWrapper;case"dragAndDropImageComponent":return DragAndDropImageComponentWrapper;case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":return CustomOverlayComponentWrapper;case"statusPanel":return StatusPanelComponentWrapper;case"toolPanel":return ToolPanelComponentWrapper;case"menuItem":return MenuItemComponentWrapper;case"cellRenderer":return CellRendererComponentWrapper;case"innerHeaderComponent":return InnerHeaderComponentWrapper}})(t.name);if(o)return new o(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":warnReactiveCustomComponents();break}const n=!t.cellRenderer&&t.name!=="toolPanel";return new ReactComponent(e,this.parent,t,n)}},DetailCellRenderer=(0,import_react27.forwardRef)((e,t)=>{const r=(0,import_react27.useContext)(BeansContext),{registry:s,context:n,gos:c,rowModel:o}=r,[i,a]=(0,import_react27.useState)(()=>new CssClasses),[d,l]=(0,import_react27.useState)(()=>new CssClasses),[R,y]=(0,import_react27.useState)(),[f,P]=(0,import_react27.useState)(),g=(0,import_react27.useRef)(),h=(0,import_react27.useRef)(null),u=(0,import_react27.useRef)(),E=(0,import_react27.useMemo)(()=>(0,import_ag_grid_community24._getGridRegisteredModules)(e.api.getGridId(),R?.rowModelType??"clientSide"),[e]),B=(0,import_react27.useMemo)(()=>i.toString()+" ag-details-row",[i]),w=(0,import_react27.useMemo)(()=>d.toString()+" ag-details-grid",[d]);t&&(0,import_react27.useImperativeHandle)(t,()=>({refresh(){return g.current?.refresh()??!1}})),e.template&&(0,import_ag_grid_community24._warn)(230);const m=(0,import_react27.useCallback)(S=>{if(h.current=S,!S||n.isDestroyed()){g.current=n.destroyBean(g.current),u.current?.();return}const O={toggleCss:(k,C)=>a(v=>v.setClass(k,C)),toggleDetailGridCss:(k,C)=>l(v=>v.setClass(k,C)),setDetailGrid:k=>y(k),setRowData:k=>P(k),getGui:()=>h.current},x=s.createDynamicBean("detailCellRendererCtrl",!0);if(x&&(n.createBean(x),x.init(O,e),g.current=x,c.get("detailRowAutoHeight"))){const k=()=>{if(h.current==null)return;const C=h.current.clientHeight;C!=null&&C>0&&setTimeout(()=>{e.node.setRowHeight(C),((0,import_ag_grid_community24._isClientSideRowModel)(c,o)||(0,import_ag_grid_community24._isServerSideRowModel)(c,o))&&o.onRowHeightChanged()},0)};u.current=(0,import_ag_grid_community24._observeResize)(r,S,k),k()}},[]),I=(0,import_react27.useCallback)(S=>{g.current?.registerDetailWithMaster(S)},[]);return import_react27.default.createElement("div",{className:B,ref:m},R&&import_react27.default.createElement(AgGridReactUi,{className:w,...R,modules:E,rowData:f,passGridApi:I}))}),ReactFrameworkOverrides=class extends import_ag_grid_community24.VanillaFrameworkOverrides{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:groupCellRenderer_default,agGroupRowRenderer:groupCellRenderer_default,agDetailCellRenderer:DetailCellRenderer},this.wrapIncoming=(t,r)=>r==="ensureVisible"?runWithoutFlushSync(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return isReact19()}},AgGridReact=class extends import_react28.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(const t of this.apiListeners)t(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return import_react28.default.createElement(AgGridReactUi,{...this.props,passGridApi:this.setGridApi})}},import_react29=require("react");function useGridCustomComponent(e){const{setMethods:t}=(0,import_react29.useContext)(CustomContext);t(e)}function useGridCellEditor(e){useGridCustomComponent(e)}function useGridDate(e){return useGridCustomComponent(e)}function useGridFilter(e){return useGridCustomComponent(e)}function useGridFilterDisplay(e){return useGridCustomComponent(e)}function useGridFloatingFilter(e){useGridCustomComponent(e)}function useGridMenuItem(e){useGridCustomComponent(e)}
